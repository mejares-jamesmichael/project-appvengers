import{a as k}from"./chunk-BCPFIAH6.js";import{a as D,c as O}from"./chunk-ZUJZEK4Q.js";import"./chunk-PZSFEQ4E.js";import{a as S,c as h,d as _,g as b,h as x,j as y,k as C,l as E,m as N,n as F,q as M,s as I}from"./chunk-DUKZIXU3.js";import"./chunk-PHYEHXVE.js";import{C as r,Da as n,L as m,R as u,X as s,ka as g,la as t,ma as e,na as i,ua as c,wb as p,yb as v,zb as f}from"./chunk-4MU7JTCM.js";var w=class l{savingService=r(k);activatedRoute=r(p);router=r(v);updateSavingForm;formBuilder=r(M);currentSaving=m({});savingId=m(1);constructor(){this.updateSavingForm=this.formBuilder.group({saving_id:[""],user_id:[""],name:[""],goal_date:[""],frequency:[""],target_amount:[""],current_amount:[0],created_at:[""],updated_at:[""],deleted_at:[""]})}ngOnInit(){let a=this.activatedRoute.snapshot.paramMap.get("id")??"";this.savingId.set(+a),this.getSavingsData(),this.updateSavingForm=this.formBuilder.group({saving_id:[this.savingId()],user_id:[this.currentSaving().user_id],name:[this.currentSaving().name],goal_date:[this.currentSaving().goal_date],frequency:[this.currentSaving().frequency],target_amount:[this.currentSaving().target_amount],current_amount:[this.currentSaving().current_amount],created_at:[this.currentSaving().created_at],updated_at:[this.currentSaving().updated_at],deleted_at:[this.currentSaving().deleted_at]})}getSavingsData(){this.savingService.getSavingById(this.savingId()).subscribe(a=>{this.currentSaving.set(a)})}updateSaving(){this.savingService.updateSaving(this.savingId(),this.updateSavingForm.value).subscribe(()=>{this.getSavingsData(),this.router.navigate(["/savings/view-saving",this.savingId()])})}static \u0275fac=function(o){return new(o||l)};static \u0275cmp=s({type:l,selectors:[["app-update-saving"]],decls:42,vars:1,consts:[[1,"form-container"],[3,"formGroup"],[1,"mb-3"],["for","saving_name",1,"form-label"],["type","text","id","saving_name","formControlName","name","placeholder","Enter saving name",1,"form-control"],["for","target_amount",1,"form-label"],["type","number","id","target_amount","formControlName","target_amount","placeholder","Enter target amount",1,"form-control"],["for","frequency",1,"form-label"],["id","frequency","formControlName","frequency",1,"form-select"],["selected",""],["value","daily"],["value","weekly"],["value","monthly"],["for","goal_date",1,"form-label"],["type","date","formControlName","goal_date","id","goal_date",1,"form-control"],["for","current_amount",1,"form-label"],["type","number","id","current_amount","placeholder","0.00","formControlName","current_amount","title","This is readonly and cannot be changed manually.","readonly","",1,"form-control"],[1,"actions-container","d-flex","gap-2","align-items-center"],["routerLink","/savings",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,d){o&1&&(i(0,"app-sidebar")(1,"app-header"),t(2,"main")(3,"div",0)(4,"h2"),n(5,"Update Saving"),e(),t(6,"p"),n(7,"Fill in the details below to update your saving goal."),e(),t(8,"form",1)(9,"div",2)(10,"label",3),n(11,"Saving Name"),e(),i(12,"input",4),e(),t(13,"div",2)(14,"label",5),n(15,"Target Amount"),e(),i(16,"input",6),e(),t(17,"div",2)(18,"label",7),n(19,"Frequency"),e(),t(20,"select",8)(21,"option",9),n(22,"Select frequency"),e(),t(23,"option",10),n(24,"Daily"),e(),t(25,"option",11),n(26,"Weekly"),e(),t(27,"option",12),n(28,"Monthly"),e()()(),t(29,"div",2)(30,"label",13),n(31,"Goal Date"),e(),i(32,"input",14),e(),t(33,"div",2)(34,"label",15),n(35,"Current Amount"),e(),i(36,"input",16),e(),t(37,"div",17)(38,"button",18),n(39," Cancel "),e(),t(40,"button",19),c("click",function(){return d.updateSaving()}),n(41," Update "),e()()()()()),o&2&&(u(8),g("formGroup",d.updateSavingForm))},dependencies:[O,D,f,I,b,N,F,S,x,E,h,_,y,C],styles:["main[_ngcontent-%COMP%]{margin-left:100px;background-color:#e8e9eb;padding:50px;height:auto;min-height:100vh}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9;box-shadow:0 2px 4px #0000001a}@media (max-width: 320px){main[_ngcontent-%COMP%]{margin-left:0;padding:10px}.form-container[_ngcontent-%COMP%]{padding:20px}}@media (min-width: 321px) and (max-width: 768px){main[_ngcontent-%COMP%]{margin-left:0;padding:10px}.form-container[_ngcontent-%COMP%]{padding:20px}}"]})};export{w as UpdateSaving};
