import{a as F}from"./chunk-PZSFEQ4E.js";import{a as E,b as w,c as k,d as N,g as T,j as D,k as I,q as V,s as A}from"./chunk-DUKZIXU3.js";import"./chunk-PHYEHXVE.js";import{Ba as P,Da as i,E as p,Ea as M,F as _,Fa as v,L as m,R as a,W as u,X as h,ea as d,fa as l,gb as O,ka as b,la as o,ma as n,na as s,ta as x,ua as C,va as c,yb as S,zb as y}from"./chunk-4MU7JTCM.js";function G(t,r){if(t&1&&(o(0,"div",12),i(1),n()),t&2){let e=c(2);a(),M(e.errorMessage())}}function L(t,r){t&1&&(o(0,"div",19),i(1," Email is required "),n())}function R(t,r){t&1&&(o(0,"div",19),i(1," Please enter a valid email address "),n())}function j(t,r){t&1&&(s(0,"span",23),i(1," Sending... "))}function z(t,r){t&1&&i(0," Send Reset Link ")}function q(t,r){if(t&1){let e=x();o(0,"form",11),C("ngSubmit",function(){p(e);let f=c();return _(f.onSubmit())}),d(1,G,2,1,"div",12),o(2,"div",13)(3,"label",14),i(4,"Email Address"),n(),o(5,"div",15),s(6,"input",16),o(7,"span",17),s(8,"i",18),n()(),d(9,L,2,0,"div",19),d(10,R,2,0,"div",19),n(),o(11,"button",20),d(12,j,2,0)(13,z,1,0),n(),o(14,"div",4)(15,"a",21),s(16,"i",22),i(17," Back to Login "),n()()()}if(t&2){let e=c();b("formGroup",e.forgotPasswordForm),a(),l(e.errorMessage()?1:-1),a(5),P("is-invalid",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),a(3),l(e.email!=null&&e.email.hasError("required")&&(e.email!=null&&e.email.touched)?9:-1),a(),l(e.email!=null&&e.email.hasError("email")&&(e.email!=null&&e.email.touched)?10:-1),a(),b("disabled",e.loading()||e.forgotPasswordForm.invalid),a(),l(e.loading()?12:13)}}function Y(t,r){if(t&1){let e=x();o(0,"div",10)(1,"div",24),s(2,"i",25),n(),o(3,"h5",13),i(4,"Check Your Email"),n(),o(5,"p",26),i(6),n(),o(7,"p",27),i(8," If you don't see the email, check your spam folder or try again. "),n(),o(9,"button",28),C("click",function(){p(e);let f=c();return _(f.submitted.set(!1))}),i(10," Send Another Link "),n(),o(11,"div",4)(12,"a",21),s(13,"i",22),i(14," Back to Login "),n()()()}if(t&2){let e=c();a(6),v(" ",e.successMessage()," ")}}var B=class t{constructor(r,e,g){this.fb=r;this.authService=e;this.router=g;this.forgotPasswordForm=this.fb.group({email:["",[w.required,w.email]]})}forgotPasswordForm;submitted=m(!1);loading=m(!1);errorMessage=m("");successMessage=m("");get email(){return this.forgotPasswordForm.get("email")}onSubmit(){this.forgotPasswordForm.invalid||(this.loading.set(!0),this.errorMessage.set(""),this.successMessage.set(""),this.authService.forgotPassword(this.forgotPasswordForm.value).subscribe({next:r=>{this.loading.set(!1),r.success?(this.submitted.set(!0),this.successMessage.set(r.message)):this.errorMessage.set(r.message)},error:r=>{this.loading.set(!1),this.errorMessage.set(r.error?.message||"An error occurred. Please try again.")}}))}static \u0275fac=function(e){return new(e||t)(u(V),u(F),u(S))};static \u0275cmp=h({type:t,selectors:[["app-forgot-password"]],decls:13,vars:1,consts:[[1,"forgot-password-container"],[1,"card","forgot-password-card"],[1,"card-body"],[1,"forgot-password-header","text-center","mb-4"],[1,"text-center"],[1,"fw-bold","custom-title"],["src","assets/images/ibudget_icon.png","alt","iBudget Logo"],[1,"mt-3"],[1,"text-muted"],[1,"forgot-password-form",3,"formGroup"],[1,"success-container","text-center"],[1,"forgot-password-form",3,"ngSubmit","formGroup"],[1,"alert","alert-danger"],[1,"mb-3"],["for","email",1,"form-label"],[1,"input-group"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],[1,"input-group-text"],[1,"bi","bi-envelope"],[1,"text-danger","small","mt-1"],["type","submit",1,"btn","btn-primary","w-100","mb-3",3,"disabled"],["routerLink","/auth-page",1,"text-decoration-none"],[1,"bi","bi-arrow-left","me-1"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],[1,"success-icon","mb-3"],[1,"bi","bi-check-circle-fill","text-success",2,"font-size","4rem"],[1,"text-muted","mb-4"],[1,"text-muted","small","mb-4"],["type","button",1,"btn","btn-outline-primary","w-100","mb-3",3,"click"]],template:function(e,g){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),s(6,"img",6),n()(),o(7,"h4",7),i(8,"Forgot Password?"),n(),o(9,"p",8),i(10," No worries! Enter your email address and we'll send you a link to reset your password. "),n()(),d(11,q,18,8,"form",9)(12,Y,15,1,"div",10),n()()()),e&2&&(a(11),l(g.submitted()?12:11))},dependencies:[O,A,T,E,k,N,D,I,y],styles:[".forgot-password-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#eef2ff,#e6f0ff);padding:20px}.forgot-password-card[_ngcontent-%COMP%]{width:100%;max-width:450px;border:none;border-radius:15px;box-shadow:0 10px 40px #0003}.forgot-password-header[_ngcontent-%COMP%]   .custom-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}.forgot-password-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#0f172a;font-weight:600}.forgot-password-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.forgot-password-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:500;color:#4b5563;margin-bottom:.5rem}.forgot-password-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #d1d5db;border-right:none}.forgot-password-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:none}.forgot-password-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.forgot-password-form[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background-color:#f9fafb;border:1px solid #d1d5db;border-left:none;color:#6b7280}.forgot-password-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#3b82f6;border:none;padding:.75rem;font-weight:600;border-radius:8px;transition:all .3s ease}.forgot-password-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #3b82f680;background:#2563eb}.forgot-password-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.success-container[_ngcontent-%COMP%]{padding:2rem 0}.success-container[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleIn .3s ease-out}.success-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#0f172a;font-weight:600}.success-container[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border:2px solid #3B82F6;color:#3b82f6;font-weight:600;padding:.75rem;border-radius:8px;transition:all .3s ease}.success-container[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #3b82f680}.alert-danger[_ngcontent-%COMP%]{border-radius:8px;font-size:14px}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}@media (max-width: 576px){.forgot-password-card[_ngcontent-%COMP%]{margin:10px}.forgot-password-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem}}"]})};export{B as ForgotPassword};
